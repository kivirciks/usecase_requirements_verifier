# Requirement Verification Prototype  
**Verification of Requirements Coverage by UML Use Case Models**

## Описание проекта

Данный репозиторий содержит **исследовательский прототип** программного модуля для
**верификации требований** на ранних этапах проектирования информационных систем.

Прототип предназначен для автоматической проверки **покрытия текстовых требований**
элементами **UML-диаграммы прецедентов** (use case diagram) с использованием методов
**семантического сопоставления естественного языка**.

---

## Бизнес-постановка задачи

### Проблема

На этапах предпроектного и концептуального проектирования требования к информационной
системе, как правило:

- формулируются в текстовом виде (ТЗ, перечни требований);
- используют свободную и вариативную терминологию;
- не имеют формальной трассируемости к архитектурным моделям.

При этом UML-диаграммы прецедентов:
- разрабатываются параллельно,
- проверяются преимущественно вручную,
- не позволяют автоматически ответить на вопрос:

> **Все ли требования отражены в модели?**

Это приводит к следующим рискам:
- утрата или игнорирование требований;
- несоответствие модели ожиданиям заинтересованных сторон;
- рост стоимости исправлений на поздних этапах жизненного цикла.

---

### Цель

Целью проекта является разработка и экспериментальная проверка метода
**автоматизированной верификации покрытия требований**
UML-диаграммой прецедентов на основе семантического анализа текстов.

---

### Задачи, решаемые прототипом

Прототип позволяет автоматически:

1. Определить общее количество требований.
2. Выявить требования, не имеющие семантического соответствия в модели.
3. Построить соответствие **актор → прецеденты**.
4. Найти прецеденты, не связанные ни с одним актором.
5. Выявить потенциальные дефекты модели:
   - отсутствующие функциональные сценарии;
   - «висячие» прецеденты;
   - несогласованность терминологии.

---

## Подход и основные идеи

### Входные данные

- **TXT-файл** с перечнем требований  
  (каждое требование — отдельная строка, начинающаяся с `-`)
- **XML-файл UML-диаграммы**  
  (экспорт из draw.io / mxGraph / совместимых инструментов)

---

### Извлечение элементов UML

Из XML-диаграммы автоматически извлекаются:
- акторы;
- прецеденты;
- связи между ними.

Служебные и вспомогательные элементы (например `include`, `extend`,
заголовки сервисов, элементы компоновки) автоматически отфильтровываются
и не участвуют в анализе.

---

### Семантическое сопоставление

Для сопоставления требований и элементов UML применяется
**векторное представление текста (sentence embeddings)**:

- каждое требование и каждый прецедент переводятся в векторное представление;
- вычисляется косинусная близость между векторами;
- требование считается покрытым, если найдено соответствие выше заданного порога.

Дополнительно допускается сопоставление требований:
- не только с прецедентами,
- но и с **названиями акторов** (что важно для требований уровня ролей или подсистем).

---

### Адаптивная проверка

Для повышения устойчивости метода используется:
- адаптивный порог схожести (короткие требования проверяются строже);
- сохранение лучших совпадений для анализа пограничных случаев.

---

## Архитектура прототипа

Проект состоит из двух основных компонентов:

- **verifier.py**  
  Ядро анализа: парсинг UML, семантическое сопоставление,
  формирование структурированного отчёта.

- **app.py**  
  Веб-интерфейс на Streamlit для интерактивной проверки и
  воспроизводимости экспериментов.

---

## Запуск прототипа

### Требования

- Python 3.10+
- ОС: Windows / Linux / macOS

---

### Установка

## Запуск в Windows и Linux

Ниже приведены инструкции по запуску прототипа для наиболее распространённых
операционных систем.

---

### Windows (Command Prompt / pip)

1. Убедитесь, что установлен Python версии 3.10 или выше:

    `python --version`

2. Создайте виртуальное окружение:

    `python -m venv .venv`

3. Активируйте виртуальное окружение:

    `.venv\Scripts\activate`

4. Установите зависимости:

    `pip install -r requirements.txt`

5. Запустите веб-интерфейс:

    `streamlit run app.py`

После запуска в браузере откроется интерфейс приложения
(обычно по адресу http://localhost:8501).

---

### Linux (bash)

1. Убедитесь, что установлен Python версии 3.10 или выше:

    `python3 --version`

2. Создайте и активируйте виртуальное окружение:

    `python3 -m venv .venv` <br>
    `source .venv/bin/activate`

3. Установите зависимости:

    `pip install -r requirements.txt`

4. Запустите веб-интерфейс:

    `streamlit run app.py`

После запуска приложение будет доступно в браузере
по адресу http://localhost:8501.

---

### Примечания

- При первом запуске автоматически загружается модель семантических эмбеддингов.
  Это может занять некоторое время в зависимости от скорости интернет-соединения.
- Все вычисления выполняются локально; передача данных во внешние сервисы не осуществляется.
